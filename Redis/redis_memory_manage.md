Redis内存管理与优化
=================

### 配置Redis
通过config set 进行设置
#### 一、 rdbchecksum 指令
它的默认值为yes,将CR64冗余检验码放置在RDB快照文件的末尾，作为防止文件损坏的一种手段。Redis产生一个子进程将快照保存至磁盘时，对RDB快照进行CRC64检验会增加10%的内存使用。

#### 二、activerehashing配置指令
Redis中的主哈希表将主键与对应的值进行关联。如果将activerehashing设置为yes,那么该主哈希表每隔100毫秒会重新哈希。重新哈希过程将释放删除了的键占用的操作系统内存。由于activerehashing发生在非工作时间，因此对客户端连接的影响最小。如果有硬性的延迟需求，应当把activerehashing设置为no。否则，如果Redis服务器需要支持高并发量客户端，可能会在运行重新哈希期间造成延迟。

#### 主从复制
内存和来自硬件和网络的延迟会直接影响主从实例的性能。
在主从模式下提升Redis的冗余度是在内存、硬件和网络流量之间做了的权衡。

repl-disable-tcp-nodelay 指令可以用来更好地处理Redis主从实例间的网络流量拥塞。通过对主从间的密集数据同步和更少的网络流量之间进行权衡，这种复制能够改善高流量情况下的网络性能。

#### 32位
```redis
info memory
```
32位模式下编译Redis代替默认64位实例。
32位下内存使用效率更高
但32位的Redis并未在Redis用户群中进行广泛部署和测试，相较于64位版本可能有未发现的BUG。

#### 键过期
